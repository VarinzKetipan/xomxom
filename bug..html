<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Page</title>
</head>

<body>
    <nav class="bg-white border-gray-200 dark:bg-gray-900 dark:border-gray-700">
        <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
            <a href="#" class="flex items-center space-x-3 rtl:space-x-reverse">
                <img src="./img/logo.png" class="h-20" alt="Smalldog Milk Tea" />
                <span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">Smalldog Milk
                    Tea</span>
            </a>
            <button data-collapse-toggle="navbar-dropdown" type="button"
                class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
                aria-controls="navbar-dropdown" aria-expanded="false">
                <span class="sr-only">Open main menu</span>
                <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                    viewBox="0 0 17 14">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M1 1h15M1 7h15M1 13h15" />
                </svg>
            </button>
            <div class="hidden w-full md:block md:w-auto" id="navbar-dropdown">
                <ul
                    class="flex flex-col font-medium p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700">
                    <li>
                        <a href="index.html"
                            class="block py-2 px-3 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 md:dark:text-blue-500 dark:bg-blue-600 md:dark:bg-transparent"
                            aria-current="page">หน้าแรก</a>
                    </li>
                    <li>
                        <a href="menu copy.html"
                            class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">เมนู</a>
                    </li>
                    <li>
                        <a href="contact.html"
                            class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">ติดต่อ</a>
                    </li>
                    <li
                        class="font-sans block mt-4 lg:inline-block lg:mt-0 lg:ml-6 align-middle text-black hover:text-gray-700">
                        <a href="order.html" class="relative flex">
                            <svg class="flex-1 w-7 h-7 fill-current" viewbox="0 0 24 24">
                                <path
                                    d="M17,18C15.89,18 15,18.89 15,20A2,2 0 0,0 17,22A2,2 0 0,0 19,20C19,18.89 18.1,18 17,18M1,2V4H3L6.6,11.59L5.24,14.04C5.09,14.32 5,14.65 5,15A2,2 0 0,0 7,17H19V15H7.42A0.25,0.25 0 0,1 7.17,14.75C7.17,14.7 7.18,14.66 7.2,14.63L8.1,13H15.55C16.3,13 16.96,12.58 17.3,11.97L20.88,5.5C20.95,5.34 21,5.17 21,5A1,1 0 0,0 20,4H5.21L4.27,2M7,18C5.89,18 5,18.89 5,20A2,2 0 0,0 7,22A2,2 0 0,0 9,20C9,18.89 8.1,18 7,18Z" />
                            </svg>
                            <span id="cartItemCount"
                                class="absolute right-0 top-0 rounded-full bg-red-600 w-4 h-4 top right p-0 m-0 text-white font-mono text-sm  leading-tight text-center">0</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <section
        class=" relative z-10 after:contents-[''] after:absolute after:z-0 after:h-full xl:after:w-1/3 after:top-0 after:right-0 after:bg-gray-50">
        <div class="w-full max-w-7xl px-4 md:px-5 lg-6 mx-auto relative z-10">
            <div class="grid grid-cols-12">
                <div
                    class="col-span-12 xl:col-span-8 lg:pr-8 pt-14 pb-8 lg:py-24 w-full max-xl:max-w-3xl max-xl:mx-auto">
                    <div class="flex items-center justify-between pb-8 border-b border-gray-300">
                        <h2 class="font-manrope font-bold text-3xl leading-10 text-black">ตะกร้าสินค้า</h2>
                        <h2 class="font-manrope font-bold text-xl leading-8 text-gray-600">3 แก้ว</h2>
                    </div>
                    <div class="grid grid-cols-12 mt-8 max-md:hidden pb-6 border-b border-gray-200">
                        <div class="col-span-12 md:col-span-7">
                            <p class="font-normal text-lg leading-8 text-gray-400">รายละเอียด</p>
                        </div>
                        <div class="col-span-12 md:col-span-5">
                            <div class="grid grid-cols-5">
                                <div class="col-span-4">
                                    <p class="font-normal text-lg leading-8 text-gray-400 text-center">ราคา</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="cartItems">

                    </div>
                </div>
                <div
                    class=" col-span-12 xl:col-span-4 bg-gray-50 w-full max-xl:px-6 max-w-3xl xl:max-w-lg mx-auto lg:pl-8 py-24">
                    <h2 class="font-manrope font-bold text-3xl leading-10 text-black pb-8 border-b border-gray-300">
                        สินค้าทั้งหมด</h2>
                    <div class="mt-8">
                        <div class="flex items-center justify-between pb-6">
                            <p class="font-normal text-lg leading-8 text-black">3 Items</p>
                            <p class="font-medium text-lg leading-8 text-black">$480.00</p>
                        </div>
                        <form>
                            <label class="flex  items-center mb-1.5 text-gray-600 text-sm font-medium">Shipping
                            </label>
                            <div class="flex pb-6">
                                <div class="relative w-full">
                                    <div class=" absolute left-0 top-0 py-3 px-4">
                                        <span class="font-normal text-base text-gray-300">Second Delivery</span>
                                    </div>
                                    <input type="text"
                                        class="block w-full h-11 pr-10 pl-36 min-[500px]:pl-52 py-2.5 text-base font-normal shadow-xs text-gray-900 bg-white border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-gray-400"
                                        placeholder="$5.00">
                                    <button id="dropdown-button" data-target="dropdown-delivery"
                                        class="dropdown-toggle flex-shrink-0 z-10 inline-flex items-center py-4 px-4 text-base font-medium text-center text-gray-900 bg-transparent  absolute right-0 top-0 pl-2 "
                                        type="button">
                                        <svg class="ml-2 my-auto" width="12" height="7" viewBox="0 0 12 7" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M1 1.5L4.58578 5.08578C5.25245 5.75245 5.58579 6.08579 6 6.08579C6.41421 6.08579 6.74755 5.75245 7.41421 5.08579L11 1.5"
                                                stroke="#6B7280" stroke-width="1.5" stroke-linecap="round"
                                                stroke-linejoin="round"></path>
                                        </svg>
                                    </button>
                                    <div id="dropdown-delivery" aria-labelledby="dropdown-delivery"
                                        class="z-20 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700 absolute top-10 bg-white right-0">
                                        <ul class="py-2 text-sm text-gray-700 dark:text-gray-200"
                                            aria-labelledby="dropdown-button">
                                            <li>
                                                <a href="#"
                                                    class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Shopping</a>
                                            </li>
                                            <li>
                                                <a href="#"
                                                    class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Images</a>
                                            </li>
                                            <li>
                                                <a href="#"
                                                    class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">News</a>
                                            </li>
                                            <li>
                                                <a href="#"
                                                    class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Finance</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <label class="flex items-center mb-1.5 text-gray-400 text-sm font-medium">Promo Code
                            </label>
                            <div class="flex pb-4 w-full">
                                <div class="relative w-full ">
                                    <div class=" absolute left-0 top-0 py-2.5 px-4 text-gray-300">

                                    </div>
                                    <input type="text"
                                        class="block w-full h-11 pr-11 pl-5 py-2.5 text-base font-normal shadow-xs text-gray-900 bg-white border border-gray-300 rounded-lg placeholder-gray-500 focus:outline-gray-400 "
                                        placeholder="xxxx xxxx xxxx">
                                    <button id="dropdown-button" data-target="dropdown"
                                        class="dropdown-toggle flex-shrink-0 z-10 inline-flex items-center py-4 px-4 text-base font-medium text-center text-gray-900 bg-transparent  absolute right-0 top-0 pl-2 "
                                        type="button"><svg class="ml-2 my-auto" width="12" height="7" viewBox="0 0 12 7"
                                            fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M1 1.5L4.58578 5.08578C5.25245 5.75245 5.58579 6.08579 6 6.08579C6.41421 6.08579 6.74755 5.75245 7.41421 5.08579L11 1.5"
                                                stroke="#6B7280" stroke-width="1.5" stroke-linecap="round"
                                                stroke-linejoin="round"></path>
                                        </svg>
                                    </button>
                                    <div id="dropdown"
                                        class="absolute top-10 right-0 z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700">
                                        <ul class="py-2 text-sm text-gray-700 dark:text-gray-200"
                                            aria-labelledby="dropdown-button">
                                            <li>
                                                <a href="#"
                                                    class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Shopping</a>
                                            </li>
                                            <li>
                                                <a href="#"
                                                    class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Images</a>
                                            </li>
                                            <li>
                                                <a href="#"
                                                    class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">News</a>
                                            </li>
                                            <li>
                                                <a href="#"
                                                    class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Finance</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="flex items-center border-b border-gray-200">

                                <a href="menu copy.html">
                                    <button
                                        class="rounded-lg w-full bg-black py-2.5 px-4 text-white text-sm font-semibold text-center mb-8 transition-all duration-500 hover:bg-black/80">lAppy</button>
                                </a>
                            </div>
                            <div class="flex items-center justify-between py-8">
                                <p class="font-medium text-xl leading-8 text-black">3 Items</p>
                                <p class="font-semibold text-xl leading-8 text-indigo-600">$485.00</p>
                            </div>
                            <button
                                class="w-full text-center bg-indigo-600 rounded-xl py-3 px-6 font-semibold text-lg text-white transition-all duration-500 hover:bg-indigo-700">Checkout</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <div class="font-sans max-w-4xl max-md:max-w-xl mx-auto p-4">
        <h1 class="text-2xl font-extrabold text-gray-800">ตะกร้าสินค้า</h1>

        <!-- Cart section -->
        <div id="cartItems" class="grid md:grid-cols-3 gap-4 mt-8">
            <!-- Cart items will be dynamically added here -->
        </div>

        <!-- Order summary -->
        <div class="bg-white rounded-md px-4 py-6 shadow-md">
            <ul class="text-gray-800 space-y-4">
                <li class="flex justify-between text-sm">ราคารวม <span id="totalPrice">0 บาท</span></li>
                <li class="flex justify-between text-sm">ค่าส่ง <span>0 บาท</span></li>
                <li class="flex justify-between text-sm">ส่วนลด <span>5 บาท</span></li>
                <hr class="border-gray-300" />
                <li class="flex justify-between text-sm font-bold">รวมทั้งสิ้น <span id="finalPrice">0 บาท</span></li>
            </ul>

            <div class="mt-8">
                <button id="confirmOrder"
                    class="text-sm w-full px-4 py-2.5 font-semibold bg-gray-800 hover:bg-gray-900 text-white rounded-md">สั่งซื้อ</button>
                <a href="menu copy.html">
                    <button
                        class="mt-2 text-sm w-full px-4 py-2.5 font-semibold bg-transparent hover:bg-gray-100 text-gray-800 border border-gray-300 rounded-md">
                        เพิ่มสินค้า
                    </button>
                </a>
            </div>
        </div>
    </div>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let cart = JSON.parse(localStorage.getItem("cart")) || [];

            const cartItemsDiv = document.getElementById("cartItems");
            const totalPriceSpan = document.getElementById("totalPrice");
            const finalPriceSpan = document.getElementById("finalPrice");

            let totalPrice = 0;

            function renderCart() {
                cartItemsDiv.innerHTML = "";
                cart.forEach((item, index) => {
                    const cartItemHTML = `

                        <div
                        class="flex flex-col min-[500px]:flex-row min-[500px]:items-center gap-5 py-6  border-b border-gray-200 group">
                        <div class="w-full md:max-w-[126px]">
                           <img src="${item.image}" alt="perfume bottle image"
                                class="mx-auto rounded-xl object-cover">
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-4 w-full">
                            <div class="md:col-span-2">
                                <div class="flex flex-col max-[500px]:items-center gap-3">
                                    <h6 class="font-semibold text-base leading-7 text-black">${item.name}</h6>
                                    <h6 class="font-normal text-base leading-7 text-gray-500">${item.category}</h6>
                                    <h6
                                        class="font-medium text-base leading-7 text-gray-600 transition-all duration-300 group-hover:text-indigo-600">
                                        ${item.price}</h6>
                                </div>
                            </div>
                            <div class="flex items-center max-[500px]:justify-center md:justify-end max-md:mt-3 h-full">
                                <p
                                    class="font-bold text-lg leading-8 text-gray-600 text-center transition-all duration-300 group-hover:text-indigo-600">
                                    ${item.price}</p>
                            </div>
                        </div>
                    </div>
                    
                      
                    `;
                    cartItemsDiv.innerHTML += cartItemHTML;
                });

                totalPrice = cart.reduce((acc, item) => acc + parseFloat(item.price.replace(" บาท", "")), 0);
                totalPriceSpan.textContent = `${totalPrice} บาท`;
                finalPriceSpan.textContent = `${totalPrice + 0 - 5} บาท`;
            }

            renderCart();

            cartItemsDiv.addEventListener("click", function (e) {
                if (e.target.classList.contains("remove-item-btn")) {
                    const index = e.target.getAttribute("data-index");
                    cart.splice(index, 1);
                    localStorage.setItem("cart", JSON.stringify(cart));
                    renderCart();
                }
            });

            document.getElementById("confirmOrder").addEventListener("click", function () {
                alert("สั่งซื้อสำเร็จ!");
                localStorage.removeItem("cart");
            });
        });
    </script>
    <script src="cart.js"></script>
</body>

</html>
<!-- <div class="flex gap-4 bg-white px-4 py-6 rounded-md shadow-md">
    <div class="flex gap-4">
        <div class="w-28 h-28 shrink-0">
            <img src="${item.image}" class="w-full h-full object-contain" />
        </div>
        <div class="flex flex-col">
            <h3 class="text-base font-bold text-gray-800">${item.name}</h3>
            <p class="text-sm font-semibold text-gray-500 mt-2">${item.category}</p>
        </div>
    </div>
    <div class="ml-auto flex flex-col">
        <h3 class="text-base font-bold text-gray-800">${item.price}</h3>
        <button class="mt-2 text-sm bg-red-500 text-white px-4 py-2 rounded-md remove-item-btn" data-index="${index}">
            ลบสินค้า
        </button>
    </div>
</div> -->